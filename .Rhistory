install.packages(c("tidyverse", "rticles", "kableExtra", "knitr"))
library(tidyverse)
tinytex::install_tinytex()
Sys.setenv(R_PDFVIEWER = "qpdfview")
Sys.getenv(R_PDFVIEWER)
Sys.getenv("R_PDFVIEWER")
Sys.getenv('HOME')
library(stars)
library(tidyverse)
cmap = c(
"#b58900", # Dwarf bamboo
"#859900", # Other vegetation
"#2aa198", # No vegetation
"#6c71c4", # Rowans
"#c0c0c0", # Birch
"#eee8d5", # Montane Alder
"#dc322f"  # Dwarf pine
)
vegetation_levels <- c(
"Dwarf Pine",
"Dwarf Bamboo",
"Rowans",
"Birch",
"Montane Alder",
"Other vegetation",
"Non Vegetation"
)
ras <- read_stars("results/rnn.tiff") %>%
rename(vegetation = rnn.tiff) %>%
mutate(vegetation = as.integer(vegetation)) %>%
mutate(
vegetation = case_when(
vegetation == 1 ~ "Dwarf Bamboo",
vegetation == 2 ~ "Other Vegetation",
vegetation == 3 ~ "No Vegetation",
vegetation == 4 ~ "Rowans",
vegetation == 5 ~ "Birch",
vegetation == 6 ~ "Montane Alder",
vegetation == 7 ~ "Dwarf Pine"
)
) %>%
mutate(vegetation = factor(vegetation, levels = vegetation_levels))
setwd("~/VegetationMapPaper/")
cmap = c(
"#b58900", # Dwarf bamboo
"#859900", # Other vegetation
"#2aa198", # No vegetation
"#6c71c4", # Rowans
"#c0c0c0", # Birch
"#eee8d5", # Montane Alder
"#dc322f"  # Dwarf pine
)
vegetation_levels <- c(
"Dwarf Pine",
"Dwarf Bamboo",
"Rowans",
"Birch",
"Montane Alder",
"Other vegetation",
"Non Vegetation"
)
ras <- read_stars("results/rnn.tiff") %>%
rename(vegetation = rnn.tiff) %>%
mutate(vegetation = as.integer(vegetation)) %>%
mutate(
vegetation = case_when(
vegetation == 1 ~ "Dwarf Bamboo",
vegetation == 2 ~ "Other Vegetation",
vegetation == 3 ~ "No Vegetation",
vegetation == 4 ~ "Rowans",
vegetation == 5 ~ "Birch",
vegetation == 6 ~ "Montane Alder",
vegetation == 7 ~ "Dwarf Pine"
)
) %>%
mutate(vegetation = factor(vegetation, levels = vegetation_levels))
ras
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap)
View(ras)
ras <- read_stars("results/rnn.tiff")
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
)
ggplot() +
geom_stars(
#mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap)
ggplot() +
geom_stars(
#mapping = aes(x = x, y = y, fill = vegetation),
data = ras
)
ras <- read_stars("results/rnn.tiff") %>%
rename(vegetation = rnn.tiff) %>%
mutate(vegetation = as.integer(vegetation)) %>%
mutate(
vegetation = case_when(
vegetation == 1 ~ "Dwarf Bamboo",
vegetation == 2 ~ "Other Vegetation",
vegetation == 3 ~ "No Vegetation",
vegetation == 4 ~ "Rowans",
vegetation == 5 ~ "Birch",
vegetation == 6 ~ "Montane Alder",
vegetation == 7 ~ "Dwarf Pine"
)
)
ras
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap)
vegetation_levels <- c(
"Dwarf Pine",
"Dwarf Bamboo",
"Rowans",
"Birch",
"Montane Alder",
"Other Vegetation",
"No Vegetation"
)
ras <- read_stars("results/rnn.tiff") %>%
rename(vegetation = rnn.tiff) %>%
mutate(vegetation = as.integer(vegetation)) %>%
mutate(
vegetation = case_when(
vegetation == 1 ~ "Dwarf Bamboo",
vegetation == 2 ~ "Other Vegetation",
vegetation == 3 ~ "No Vegetation",
vegetation == 4 ~ "Rowans",
vegetation == 5 ~ "Birch",
vegetation == 6 ~ "Montane Alder",
vegetation == 7 ~ "Dwarf Pine"
)
) %>%
mutate(vegetation = factor(vegetation, levels = vegetation_levels))
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap)
cmap = c(
"#6c71c4", # Dwarf bamboo
"#859900", # Other vegetation
"#eee8d5", # No vegetation
"#2aa198", # Rowans
"#c0c0c0", # Birch
"#b58900", # Montane Alder
"#dc322f"  # Dwarf pine
)
vegetation_levels <- c(
"Dwarf Pine",
"Dwarf Bamboo",
"Rowans",
"Birch",
"Montane Alder",
"Other Vegetation",
"No Vegetation"
)
ras <- read_stars("results/rnn.tiff") %>%
rename(vegetation = rnn.tiff) %>%
mutate(vegetation = as.integer(vegetation)) %>%
mutate(
vegetation = case_when(
vegetation == 1 ~ "Dwarf Bamboo",
vegetation == 2 ~ "Other Vegetation",
vegetation == 3 ~ "No Vegetation",
vegetation == 4 ~ "Rowans",
vegetation == 5 ~ "Birch",
vegetation == 6 ~ "Montane Alder",
vegetation == 7 ~ "Dwarf Pine"
)
) %>%
mutate(vegetation = factor(vegetation, levels = vegetation_levels))
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap)
cmap = c(
"#2aa198", # Dwarf pine
"#859900", # Dwarf bamboo
"#dc322f", # Rowans
"#b58900", # Birch
"#6c71c4", # Montane Alder
"#eee8d5", # Other vegetation
"#c0c0c0" # No vegetation
)
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap)
ras
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap, na.value = "transparent")
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap, na.value = "transparent") +
labs(x = "X (UTM53N, m)", y = "Y (UTM53N, m)", fill = "Vegetation")
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap, na.value = "transparent") +
labs(x = "X (UTM53N, m)", y = "Y (UTM53N, m)", fill = "Vegetation") +
theme_minimal() +
theme(
axis.text = element_text(size = 18),
text = element_text(size = 20),
axis.text.x = element_text(angle = 60, hjust = 1),
plot.background = element_rect(fill = "white")
)
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap, na.value = "transparent") +
labs(x = "X (UTM53N, m)", y = "Y (UTM53N, m)", fill = "Vegetation") +
theme_minimal() +
theme(
axis.text = element_text(size = 18),
text = element_text(size = 20),
plot.background = element_rect(fill = "white")
)
#パッケージのインストール
install.packages("ggspatial")
library(ggspatial)
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap, na.value = "transparent") +
labs(x = "X (UTM53N, m)", y = "Y (UTM53N, m)", fill = "Vegetation") +
theme_minimal() +
theme(
axis.text = element_text(size = 18),
text = element_text(size = 20),
plot.background = element_rect(fill = "white")
) +
annotation_map_tile(type = "hillshade", zoomin = 0, alpha = 1) +
annotation_north_arrow(style = north_arrow_minimal,
location = "tl",
which_north = "true")
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap, na.value = "transparent") +
labs(x = "X (UTM53N, m)", y = "Y (UTM53N, m)", fill = "Vegetation") +
theme_minimal() +
theme(
axis.text = element_text(size = 18),
text = element_text(size = 20),
plot.background = element_rect(fill = "white")
) +
annotation_map_tile(type = "osm", zoomin = 0, alpha = 1) +
annotation_north_arrow(style = north_arrow_minimal,
location = "tl",
which_north = "true")
?annotation_map_tile
rosm::osm.types()
?rosm::osm.types()
ggplot() +
geom_stars(
mapping = aes(x = x, y = y, fill = vegetation),
data = ras
) +
scale_fill_manual(values = cmap, na.value = "transparent") +
labs(x = "X (UTM53N, m)", y = "Y (UTM53N, m)", fill = "Vegetation") +
theme_minimal() +
theme(
axis.text = element_text(size = 18),
text = element_text(size = 20),
plot.background = element_rect(fill = "white")
) +
annotation_map_tile(type = "osm", alpha = 1) +
annotation_north_arrow(style = north_arrow_minimal,
location = "tl",
which_north = "true")
